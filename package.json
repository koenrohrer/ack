{
  "name": "ack",
  "displayName": "ACK - Agent Config Keeper",
  "description": "Discover, install, configure, and switch between agent tool sets",
  "version": "0.0.1",
  "publisher": "koenrohrer",
  "license": "MIT",
  "engines": {
    "vscode": "^1.105.0"
  },
  "activationEvents": [
    "onStartupFinished",
    "onView:ack.toolTree"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "ack",
          "title": "ACK - Agent Config Keeper",
          "icon": "media/icons/activity-bar.svg"
        }
      ]
    },
    "views": {
      "ack": [
        {
          "id": "ack.toolTree",
          "name": "Tools"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "ack.toolTree",
        "contents": "No agent tools found.\n\nConfigure Claude Code to get started.\n[Open Documentation](https://docs.anthropic.com/en/docs/claude-code)",
        "when": "ack.noTools"
      }
    ],
    "commands": [
      {
        "command": "ack.testReadAll",
        "title": "ACK: Test Read All Tools"
      },
      {
        "command": "ack.openToolSource",
        "title": "ACK: Open Tool Source"
      },
      {
        "command": "ack.refreshToolTree",
        "title": "ACK: Refresh Tool Tree",
        "icon": "$(refresh)"
      },
      {
        "command": "ack.toggleTool",
        "title": "Toggle Enable/Disable",
        "icon": "$(symbol-boolean)"
      },
      {
        "command": "ack.deleteTool",
        "title": "Delete Tool"
      },
      {
        "command": "ack.moveToolToUser",
        "title": "Global (User)"
      },
      {
        "command": "ack.moveToolToProject",
        "title": "Project"
      },
      {
        "command": "ack.installTool",
        "title": "Install...",
        "icon": "$(add)"
      },
      {
        "command": "ack.openMarketplace",
        "title": "ACK: Open Marketplace",
        "icon": "$(extensions)"
      },
      {
        "command": "ack.createProfile",
        "title": "ACK: Create Profile"
      },
      {
        "command": "ack.switchProfile",
        "title": "ACK: Switch Profile",
        "icon": "$(account)"
      },
      {
        "command": "ack.editProfile",
        "title": "ACK: Edit Profile"
      },
      {
        "command": "ack.deleteProfile",
        "title": "ACK: Delete Profile"
      },
      {
        "command": "ack.saveAsProfile",
        "title": "ACK: Save Current State as Profile"
      },
      {
        "command": "ack.openConfigPanel",
        "title": "ACK: Configure Agent"
      },
      {
        "command": "ack.exportProfile",
        "title": "ACK: Export Profile"
      },
      {
        "command": "ack.importProfile",
        "title": "ACK: Import Profile"
      },
      {
        "command": "ack.associateProfile",
        "title": "ACK: Associate Profile with Workspace"
      }
    ],
    "submenus": [
      {
        "id": "ack.moveTo",
        "label": "Move To..."
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "ack.switchProfile",
          "when": "view == ack.toolTree",
          "group": "navigation"
        },
        {
          "command": "ack.openMarketplace",
          "when": "view == ack.toolTree",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "ack.toggleTool",
          "when": "view == ack.toolTree && viewItem =~ /^tool:/ && viewItem =~ /:(?:user|project|local)$/",
          "group": "inline"
        },
        {
          "command": "ack.installTool",
          "when": "view == ack.toolTree && viewItem =~ /^group:/",
          "group": "inline"
        },
        {
          "command": "ack.toggleTool",
          "when": "view == ack.toolTree && viewItem =~ /^tool:/ && viewItem =~ /:(?:user|project|local)$/",
          "group": "1_toggle"
        },
        {
          "submenu": "ack.moveTo",
          "when": "view == ack.toolTree && viewItem =~ /^tool:/ && viewItem =~ /:(?:user|project)$/",
          "group": "2_scope"
        },
        {
          "command": "ack.deleteTool",
          "when": "view == ack.toolTree && viewItem =~ /^tool:/ && viewItem =~ /:(?:user|project|local)$/",
          "group": "3_danger"
        },
        {
          "command": "ack.installTool",
          "when": "view == ack.toolTree && viewItem =~ /^group:/",
          "group": "1_install"
        }
      ],
      "ack.moveTo": [
        {
          "command": "ack.moveToolToUser",
          "when": "viewItem =~ /:project$/"
        },
        {
          "command": "ack.moveToolToProject",
          "when": "viewItem =~ /:user$/"
        }
      ]
    },
    "configuration": {
      "title": "ACK - Agent Config Keeper",
      "properties": {
        "ack.showChangeNotifications": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications when agent config files change externally"
        },
        "ack.skipDeleteConfirmation": {
          "type": "boolean",
          "default": false,
          "description": "Skip confirmation dialog when deleting tools"
        },
        "ack.autoActivateWorkspaceProfiles": {
          "type": "boolean",
          "default": true,
          "description": "Automatically activate the associated profile when opening a workspace"
        },
        "ack.userRepositories": {
          "type": "array",
          "default": [],
          "description": "GitHub repository URLs to scan for installable tools",
          "items": {
            "type": "string"
          }
        },
        "ack.registrySources": {
          "type": "array",
          "default": [],
          "description": "Additional tool registry sources (GitHub repositories). The default community registry is always included.",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "string", "description": "Unique identifier for this source" },
              "name": { "type": "string", "description": "Display name" },
              "owner": { "type": "string", "description": "GitHub repository owner" },
              "repo": { "type": "string", "description": "GitHub repository name" },
              "branch": { "type": "string", "default": "main", "description": "Git branch" },
              "indexPath": { "type": "string", "default": "registry.json", "description": "Path to registry.json in repo" }
            },
            "required": ["id", "name", "owner", "repo"]
          }
        }
      }
    },
    "colors": [
      {
        "id": "ack.enabledIcon",
        "description": "Icon color for enabled tools",
        "defaults": {
          "dark": "#89d185",
          "light": "#388a34",
          "highContrast": "#89d185",
          "highContrastLight": "#388a34"
        }
      },
      {
        "id": "ack.disabledIcon",
        "description": "Icon color for disabled tools",
        "defaults": {
          "dark": "#848484",
          "light": "#848484",
          "highContrast": "#848484",
          "highContrastLight": "#848484"
        }
      },
      {
        "id": "ack.errorIcon",
        "description": "Icon color for tools with errors",
        "defaults": {
          "dark": "#f14c4c",
          "light": "#e51400",
          "highContrast": "#f14c4c",
          "highContrastLight": "#e51400"
        }
      }
    ]
  },
  "scripts": {
    "compile:ext": "esbuild src/extension.ts --bundle --outfile=dist/extension.js --external:vscode --format=cjs --platform=node --sourcemap --main-fields=module,main",
    "compile:webview": "node esbuild.webview.mjs",
    "compile": "npm run compile:ext && npm run compile:webview",
    "watch:ext": "npm run compile:ext -- --watch",
    "watch:webview": "node esbuild.webview.mjs --watch",
    "watch": "npm-run-all --parallel watch:ext watch:webview check-types",
    "check-types": "tsc --noEmit",
    "lint": "eslint src/",
    "test:unit": "vitest run",
    "test:integration": "vscode-test",
    "dev": "npm-run-all --parallel watch check-types",
    "package": "npm run compile:ext -- --minify && node esbuild.webview.mjs --minify"
  },
  "dependencies": {
    "@vscode-elements/elements": "^2.4.0",
    "dompurify": "^3.3.1",
    "jsonc-parser": "^3.3.1",
    "marked": "^17.0.1",
    "react": "^19.2.4",
    "react-dom": "^19.2.4",
    "write-file-atomic": "^6.0",
    "zod": "^4.3"
  },
  "devDependencies": {
    "@eslint/js": "^9.0",
    "@types/dompurify": "^3.0.5",
    "@types/node": "^22",
    "@types/react": "^19.2.10",
    "@types/react-dom": "^19.2.3",
    "@types/vscode": "^1.105.0",
    "@types/write-file-atomic": "^4.0.3",
    "@vscode/test-cli": "^0.0.10",
    "@vscode/test-electron": "^2.4.1",
    "esbuild": "^0.24",
    "eslint": "^9.0",
    "npm-run-all": "^4.1",
    "typescript": "^5.7",
    "typescript-eslint": "^8.0",
    "vitest": "^3.0"
  }
}
